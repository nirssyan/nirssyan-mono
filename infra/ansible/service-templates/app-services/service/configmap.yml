apiVersion: v1
kind: ConfigMap
metadata:
  name: SERVICE_NAME-config
data:
  HOST: "0.0.0.0"
  PORT: "8000"
  DEBUG: "true"
  RELOAD: "false"

  AI_BASE_URL: "https://api.deepseek.com"
  AI_MODEL: "deepseek-chat"

  LANGFUSE_HOST: "https://cloud.langfuse.com"
  LANGFUSE_ENABLED: "false"

  RSS_BASE_URL: "https://rsshub.nirssyan.ru"
  RSS_TIMEOUT: "30"
  RSS_MAX_RETRIES: "3"

  TELEGRAM_WORKDIR: "/app/.pyrogram"
  TELEGRAM_SESSION_NAME: "prod_session"
  TELEGRAM_REQUEST_DELAY: "0.05"
  TELEGRAM_MAX_MESSAGES_PER_REQUEST: "100"
  TELEGRAM_MAX_RETRIES: "3"
  TELEGRAM_INITIAL_MESSAGES_COUNT: "5"

  TELEGRAM_BACKGROUND_POLLING_ENABLED: "false"
  TELEGRAM_BACKGROUND_POLLING_RATE: "15.0"
  TELEGRAM_CHANNEL_COOLDOWN_SECONDS: "30"

  FEED_PROCESSING_BACKGROUND_ENABLED: "false"
  FEED_PROCESSING_BACKGROUND_DELAY: "0.15"
  FEED_PROCESSING_TYPE_COOLDOWN_SECONDS: "30"

  MEDIA_BASE_URL: "https://dev.api.infatium.ru"

  OTEL_ENABLED: "true"
  OTEL_SERVICE_NAME: "makefeed-service"
  OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: "http://tempo.grafana-stack.svc.cluster.local:4317"
  OTEL_EXPORTER_OTLP_TRACES_PROTOCOL: "grpc"
  OTEL_EXPORTER_OTLP_TRACES_INSECURE: "true"
  OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: "http://prometheus.grafana-stack.svc.cluster.local:4317"
  OTEL_EXPORTER_OTLP_METRICS_PROTOCOL: "grpc"
  OTEL_EXPORTER_OTLP_METRICS_INSECURE: "true"
  OTEL_METRICS_EXPORTER: "otlp"
  OTEL_LOGS_EXPORTER: "http://loki.grafana-stack.svc.cluster.local:4317"
  OTEL_LOGS_EXPORTER_PROTOCOL: "grpc"
  OTEL_DEPLOYMENT_ENVIRONMENT: "development"

  ARTICLE_CACHE_ENABLED: "true"
  ARTICLE_CACHE_TTL_HOURS: "24"

  DB_CONCURRENT_POST_WRITES: "5"

  RUSTORE_PRIVATE_KEY_PATH: "/app/secrets/rustore_private_key.pem"
